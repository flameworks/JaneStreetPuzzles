Extracted from https://www.janestreet.com/puzzles/square-run/

Square Run

A queen is located at a1 and wishes to travel to h8 via a series of one or more moves. (These must be legal queen’s moves.)

After each move, the numbers on each of the squares change.

If the move is between two spaces which sum to a perfect square, every number on the board decreases by 1 after the move. Otherwise, each number decreases by 5. (The queen may stop on a square more than once.)

What is the largest sum you can obtain from the squares you visit over each move in your journey?

Please send us your sum and your list of moves.

Example: a5, a3, b3, d1, a1, d4, h8, a1, h8 would have a sum of 0 + 26 + 29 + 12 – 7 + 17 + 20 – 10 + 18 = 105.

(VIEW CHESSBOARD VIA LINK)

