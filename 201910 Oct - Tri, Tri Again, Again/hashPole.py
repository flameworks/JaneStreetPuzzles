from basicOct import getGrid, getArea

def getHash():
    g = getGrid() ;    globHash = {}
    for b1 in range(18): # Edges use range 18
        for b2 in range(18): # Edges use range 18
            base = (b1,b2)
            for h2 in range(18):
                for v1 in range(18):
                    h = (b1,h2);    v = (v1,b2)
                    area = getArea(base,h,v)
                    if not area: continue
                    intPts, filledSq = getInteriorPts(base, h, v)
                    counter = 0; counter2= True
                    valR = -1; valC = -1
                    for r,c in filledSq:
                        val = g[r][c]
                        if val != 0: 
                            if area != val: 
                                counter = 2
                                if area > val and v1 > b1: counter = 99
                                break
                            counter += 1
                            valR = r; valC = c
                        if counter > 1: break
                    if counter == 99: break
                    if counter != 1: continue
                    outSq = getStepLadder(base, h, v)
                    for r,c in outSq:
                        if g[r][c] != 0: 
                            if valR == r and valC == c: continue
                            counter2 = False
                            break
                    if counter2:
                        if (valR,valC) in globHash:
                            globHash[(valR,valC)].append((base,h,v))
                        else:
                            globHash[(valR,valC)] = [(base,h,v)]
#    print("Length",len(list(globHash.keys())))
    return globHash

def getStepLadder(base, h, v):
    b1,b2 = base; h1,h2 = h; v1,v2 = v
    newBase = (v1,h2)
    newInt,newFill = getInteriorPts(newBase, v, h)
    top1 = min(v1,b1);    top2 = min(h2,b2)
    bot1 = max(v1,b1);    bot2 = max(h2,b2)
    totalAns = []
    for i in range(top1,bot1):
        for j in range(top2,bot2):
            totalAns.append((i,j))
    for coord in newFill:
        if coord in totalAns: totalAns.remove(coord)
    return totalAns

def getInteriorPts(base, h, v): # Base, HORI, VERT
    b1,b2 = base; h1,h2 = h; v1,v2 = v
    rMin = min(b1,v1); rMax = max(b1,v1)
    cMin = min(b2,h2); cMax = max(b2,h2)
    intPts = []
    for x1 in range(rMin,rMax):
        for x2 in range(cMin,cMax):
            i = x1 ; j = x2
            if ptInTriangle((i,j), base, h, v): intPts.append((i,j))
    filledSq = []
    for r,c in intPts:
        newR = -1; newC = -1
        if h2 > b2: newC = c-1
        if h2 < b2: newC = c
        if v1 > b1: newR = r-1
        if v1 < b1: newR = r
        filledSq.append((newR,newC))
    return [intPts,filledSq]


def ptInTriangle(p, p0, p1, p2): # Not specific
    A = 1/2 * (-p1[0] * p2[1] + p0[0] * (-p1[1] + p2[1]) + p0[1] * (p1[0] - p2[0]) + p1[1] * p2[0])
    sign = 1
    if A < 0: sign = -1
    s = (p0[0] * p2[1] - p0[1] * p2[0] + (p2[0] - p0[0]) * p[1] + (p0[1] - p2[1]) * p[0]) * sign
    t = (p0[1] * p1[0] - p0[0] * p1[1] + (p0[0] - p1[0]) * p[1] + (p1[1] - p0[1]) * p[0]) * sign
    return s > 0 and t > 0 and (s + t) <= 2 * A * sign

def getHashAns():
    return {(1, 3): [((0, 1), (0, 7), (4, 1)), ((0, 2), (0, 8), (4, 2)), ((0, 3), (0, 5), (12, 3)), ((0, 4), (0, 0), (6, 4)), ((0, 5), (0, 1), (6, 5)), ((0, 5), (0, 2), (8, 5)), ((1, 5), (1, 1), (7, 5)), ((1, 5), (1, 2), (9, 5)), ((2, 0), (2, 12), (0, 0)), ((2, 1), (2, 13), (0, 1)), ((2, 2), (2, 14), (0, 2))], (2, 5): [((0, 5), (0, 7), (10, 5)), ((0, 5), (0, 9), (5, 5)), ((0, 6), (0, 4), (10, 6)), ((1, 4), (1, 8), (6, 4)), ((1, 4), (1, 9), (5, 4)), ((1, 5), (1, 9), (6, 5)), ((1, 5), (1, 10), (5, 5)), ((2, 1), (2, 11), (4, 1)), ((2, 2), (2, 12), (4, 2)), ((2, 3), (2, 7), (7, 3)), ((2, 3), (2, 8), (6, 3)), ((2, 4), (2, 8), (7, 4)), ((2, 4), (2, 9), (6, 4)), ((2, 6), (2, 1), (6, 6)), ((2, 6), (2, 2), (7, 6)), ((2, 7), (2, 2), (6, 7)), ((2, 7), (2, 3), (7, 7)), ((4, 4), (4, 9), (0, 4)), ((4, 5), (4, 10), (0, 5)), ((4, 7), (4, 2), (0, 7)), ((5, 6), (5, 1), (1, 6)), ((5, 6), (5, 2), (0, 6))], (0, 9): [((0, 7), (0, 11), (4, 7)), ((0, 8), (0, 12), (4, 8)), ((0, 9), (0, 11), (8, 9)), ((0, 9), (0, 13), (4, 9)), ((0, 10), (0, 2), (2, 10)), ((0, 10), (0, 6), (4, 10)), ((0, 10), (0, 8), (8, 10)), ((0, 11), (0, 3), (2, 11)), ((0, 11), (0, 7), (4, 11)), ((0, 12), (0, 4), (2, 12)), ((0, 12), (0, 8), (4, 12)), ((0, 13), (0, 5), (2, 13))], (0, 13): [((0, 13), (0, 15), (2, 13)), ((0, 14), (0, 12), (2, 14))], (1, 14): [((0, 14), (0, 16), (7, 14)), ((1, 14), (1, 16), (8, 14)), ((1, 17), (1, 10), (3, 17))], (2, 0): [((1, 0), (1, 2), (5, 0)), ((2, 0), (2, 2), (6, 0)), ((2, 0), (2, 4), (4, 0)), ((3, 0), (3, 4), (1, 0)), ((4, 0), (4, 2), (0, 0))], (4, 7): [((2, 7), (2, 9), (9, 7)), ((2, 8), (2, 6), (9, 8)), ((3, 7), (3, 9), (10, 7)), ((3, 8), (3, 6), (10, 8)), ((4, 5), (4, 12), (6, 5)), ((4, 6), (4, 13), (6, 6)), ((4, 7), (4, 9), (11, 7)), ((4, 8), (4, 1), (6, 8)), ((4, 8), (4, 6), (11, 8)), ((4, 9), (4, 2), (6, 9)), ((4, 10), (4, 3), (6, 10)), ((5, 5), (5, 12), (3, 5)), ((5, 6), (5, 13), (3, 6)), ((5, 8), (5, 1), (3, 8)), ((5, 9), (5, 2), (3, 9)), ((5, 10), (5, 3), (3, 10)), ((7, 7), (7, 9), (0, 7)), ((7, 8), (7, 6), (0, 8))], (8, 8): [((2, 8), (2, 12), (12, 8)), ((3, 8), (3, 12), (13, 8)), ((5, 7), (5, 11), (15, 7)), ((5, 9), (5, 4), (13, 9)), ((5, 9), (5, 5), (15, 9)), ((6, 6), (6, 11), (14, 6)), ((6, 7), (6, 11), (16, 7)), ((6, 9), (6, 4), (14, 9)), ((6, 9), (6, 5), (16, 9)), ((6, 10), (6, 2), (11, 10)), ((6, 11), (6, 3), (11, 11)), ((7, 6), (7, 10), (17, 6)), ((7, 6), (7, 11), (15, 6)), ((7, 6), (7, 14), (12, 6)), ((7, 6), (7, 16), (11, 6)), ((7, 7), (7, 12), (15, 7)), ((7, 7), (7, 15), (12, 7)), ((7, 7), (7, 17), (11, 7)), ((7, 8), (7, 16), (12, 8)), ((7, 9), (7, 5), (17, 9)), ((7, 10), (7, 0), (11, 10)), ((7, 10), (7, 2), (12, 10)), ((7, 11), (7, 1), (11, 11)), ((7, 11), (7, 3), (12, 11)), ((7, 12), (7, 2), (11, 12)), ((7, 12), (7, 4), (12, 12)), ((7, 13), (7, 3), (11, 13)), ((8, 6), (8, 11), (16, 6)), ((8, 6), (8, 14), (13, 6)), ((8, 6), (8, 16), (12, 6)), ((8, 7), (8, 15), (13, 7)), ((8, 7), (8, 17), (12, 7)), ((8, 11), (8, 1), (12, 11)), ((8, 12), (8, 2), (12, 12)), ((8, 12), (8, 4), (13, 12)), ((8, 13), (8, 3), (12, 13)), ((8, 13), (8, 5), (13, 13)), ((8, 14), (8, 4), (12, 14)), ((8, 14), (8, 6), (13, 14)), ((9, 3), (9, 11), (4, 3)), ((9, 3), (9, 13), (5, 3)), ((9, 4), (9, 12), (4, 4)), ((9, 4), (9, 14), (5, 4)), ((9, 5), (9, 13), (4, 5)), ((9, 5), (9, 15), (5, 5)), ((9, 6), (9, 16), (5, 6)), ((9, 10), (9, 0), (5, 10)), ((9, 10), (9, 2), (4, 10)), ((9, 11), (9, 1), (5, 11)), ((9, 11), (9, 3), (4, 11)), ((9, 11), (9, 6), (1, 11)), ((10, 4), (10, 14), (6, 4)), ((10, 5), (10, 13), (5, 5)), ((10, 5), (10, 15), (6, 5)), ((10, 6), (10, 14), (5, 6)), ((10, 6), (10, 16), (6, 6)), ((10, 7), (10, 15), (5, 7)), ((10, 7), (10, 17), (6, 7)), ((10, 8), (10, 12), (0, 8)), ((10, 9), (10, 1), (5, 9)), ((10, 10), (10, 0), (6, 10)), ((10, 10), (10, 2), (5, 10)), ((10, 10), (10, 5), (2, 10)), ((10, 11), (10, 1), (6, 11)), ((10, 11), (10, 3), (5, 11)), ((10, 11), (10, 6), (2, 11)), ((10, 11), (10, 7), (0, 11)), ((11, 6), (11, 14), (6, 6)), ((11, 7), (11, 15), (6, 7)), ((11, 8), (11, 12), (1, 8)), ((11, 8), (11, 13), (3, 8)), ((11, 10), (11, 6), (1, 10)), ((11, 11), (11, 6), (3, 11)), ((12, 8), (12, 12), (2, 8)), ((12, 8), (12, 13), (4, 8)), ((12, 10), (12, 6), (2, 10)), ((14, 9), (14, 5), (4, 9)), ((15, 9), (15, 5), (5, 9))], (2, 12): [((2, 12), (2, 14), (5, 12)), ((2, 12), (2, 15), (4, 12)), ((2, 13), (2, 10), (4, 13)), ((2, 13), (2, 11), (5, 13)), ((3, 12), (3, 14), (0, 12)), ((3, 12), (3, 15), (1, 12)), ((3, 13), (3, 10), (1, 13)), ((3, 13), (3, 11), (0, 13))], (4, 13): [((2, 13), (2, 15), (12, 13)), ((3, 12), (3, 16), (8, 12)), ((3, 13), (3, 15), (13, 13)), ((3, 14), (3, 9), (7, 14)), ((3, 14), (3, 10), (8, 14)), ((3, 14), (3, 12), (13, 14)), ((3, 15), (3, 10), (7, 15)), ((3, 15), (3, 11), (8, 15)), ((4, 12), (4, 16), (9, 12)), ((4, 12), (4, 17), (8, 12)), ((4, 13), (4, 15), (14, 13)), ((4, 13), (4, 17), (9, 13)), ((4, 14), (4, 12), (14, 14)), ((4, 15), (4, 10), (8, 15)), ((4, 15), (4, 11), (9, 15)), ((4, 16), (4, 11), (8, 16)), ((4, 16), (4, 12), (9, 16)), ((6, 13), (6, 17), (1, 13)), ((6, 15), (6, 10), (2, 15))], (3, 16): [((3, 17), (3, 12), (5, 17)), ((4, 17), (4, 12), (2, 17)), ((5, 17), (5, 15), (0, 17))], (6, 1): [((4, 2), (4, 0), (11, 2)), ((5, 2), (5, 0), (12, 2)), ((6, 0), (6, 7), (8, 0)), ((6, 1), (6, 3), (13, 1)), ((6, 1), (6, 8), (8, 1)), ((6, 2), (6, 0), (13, 2)), ((7, 2), (7, 0), (0, 2)), ((8, 2), (8, 0), (1, 2)), ((9, 2), (9, 0), (2, 2))], (5, 2): [((5, 2), (5, 4), (8, 2)), ((5, 2), (5, 5), (7, 2)), ((6, 2), (6, 4), (3, 2)), ((6, 2), (6, 5), (4, 2)), ((6, 3), (6, 0), (4, 3)), ((6, 3), (6, 1), (3, 3))], (10, 5): [((6, 5), (6, 9), (13, 5)), ((6, 6), (6, 2), (13, 6)), ((7, 6), (7, 2), (14, 6)), ((8, 6), (8, 2), (15, 6)), ((8, 7), (8, 3), (15, 7)), ((9, 4), (9, 11), (13, 4)), ((9, 5), (9, 9), (16, 5)), ((9, 5), (9, 12), (13, 5)), ((9, 7), (9, 0), (13, 7)), ((9, 7), (9, 3), (16, 7)), ((9, 8), (9, 1), (13, 8)), ((10, 1), (10, 15), (12, 1)), ((10, 4), (10, 11), (14, 4)), ((10, 5), (10, 9), (17, 5)), ((10, 5), (10, 12), (14, 5)), ((10, 7), (10, 3), (17, 7)), ((10, 8), (10, 1), (14, 8)), ((10, 9), (10, 2), (14, 9)), ((11, 1), (11, 8), (7, 1)), ((11, 1), (11, 15), (9, 1)), ((11, 2), (11, 9), (7, 2)), ((11, 3), (11, 7), (4, 3)), ((11, 3), (11, 10), (7, 3)), ((11, 4), (11, 8), (4, 4)), ((11, 4), (11, 11), (7, 4)), ((11, 5), (11, 9), (4, 5)), ((11, 6), (11, 2), (4, 6)), ((11, 7), (11, 3), (4, 7)), ((11, 8), (11, 1), (7, 8)), ((12, 3), (12, 10), (8, 3)), ((12, 4), (12, 8), (5, 4)), ((12, 4), (12, 11), (8, 4)), ((12, 5), (12, 9), (5, 5)), ((12, 5), (12, 12), (8, 5)), ((12, 6), (12, 2), (5, 6)), ((12, 7), (12, 0), (8, 7)), ((12, 7), (12, 3), (5, 7)), ((12, 8), (12, 1), (8, 8)), ((13, 4), (13, 8), (6, 4)), ((13, 5), (13, 9), (6, 5)), ((14, 5), (14, 9), (7, 5)), ((15, 5), (15, 9), (8, 5)), ((17, 5), (17, 7), (3, 5))], (6, 11): [((6, 11), (6, 13), (9, 11)), ((6, 11), (6, 14), (8, 11)), ((6, 12), (6, 9), (8, 12)), ((6, 12), (6, 10), (9, 12)), ((7, 11), (7, 13), (4, 11)), ((7, 11), (7, 14), (5, 11)), ((7, 12), (7, 9), (5, 12)), ((7, 12), (7, 10), (4, 12))], (6, 16): [((6, 17), (6, 14), (8, 17)), ((6, 17), (6, 15), (9, 17)), ((7, 17), (7, 14), (5, 17)), ((7, 17), (7, 15), (4, 17))], (10, 15): [((7, 17), (7, 11), (13, 17)), ((11, 16), (11, 7), (7, 16)), ((11, 16), (11, 10), (5, 16)), ((11, 16), (11, 12), (2, 16)), ((11, 17), (11, 8), (7, 17))], (11, 14): [((8, 15), (8, 13), (16, 15)), ((9, 15), (9, 11), (13, 15)), ((9, 15), (9, 13), (17, 15)), ((10, 15), (10, 11), (14, 15)), ((11, 12), (11, 16), (15, 12)), ((11, 13), (11, 17), (15, 13)), ((11, 15), (11, 7), (13, 15)), ((11, 15), (11, 11), (15, 15)), ((11, 16), (11, 8), (13, 16)), ((11, 16), (11, 12), (15, 16)), ((11, 17), (11, 9), (13, 17)), ((12, 12), (12, 16), (8, 12)), ((12, 15), (12, 7), (10, 15)), ((12, 15), (12, 11), (8, 15)), ((12, 15), (12, 13), (4, 15)), ((13, 13), (13, 17), (9, 13)), ((13, 15), (13, 11), (9, 15)), ((13, 15), (13, 13), (5, 15)), ((14, 15), (14, 11), (10, 15)), ((14, 15), (14, 13), (6, 15)), ((15, 14), (15, 16), (7, 14)), ((15, 15), (15, 13), (7, 15))], (10, 0): [((9, 0), (9, 2), (13, 0)), ((10, 0), (10, 4), (12, 0)), ((11, 0), (11, 2), (7, 0)), ((11, 0), (11, 4), (9, 0)), ((12, 0), (12, 2), (8, 0))], (12, 3): [((9, 4), (9, 1), (15, 4)), ((10, 4), (10, 1), (16, 4)), ((11, 2), (11, 8), (14, 2)), ((11, 3), (11, 9), (14, 3)), ((12, 1), (12, 7), (15, 1)), ((12, 2), (12, 8), (15, 2)), ((12, 7), (12, 1), (15, 7)), ((13, 0), (13, 9), (11, 0)), ((13, 1), (13, 7), (10, 1)), ((13, 2), (13, 5), (7, 2)), ((13, 2), (13, 8), (10, 2)), ((13, 3), (13, 5), (4, 3)), ((13, 3), (13, 6), (7, 3)), ((13, 3), (13, 9), (10, 3)), ((13, 4), (13, 1), (7, 4)), ((13, 4), (13, 2), (4, 4)), ((13, 5), (13, 2), (7, 5)), ((14, 2), (14, 5), (8, 2)), ((14, 2), (14, 8), (11, 2)), ((14, 3), (14, 5), (5, 3)), ((14, 3), (14, 6), (8, 3)), ((14, 3), (14, 9), (11, 3)), ((14, 4), (14, 1), (8, 4)), ((14, 4), (14, 2), (5, 4)), ((14, 5), (14, 2), (8, 5)), ((15, 4), (15, 1), (9, 4)), ((15, 4), (15, 2), (6, 4))], (13, 0): [((11, 0), (11, 2), (17, 0)), ((12, 0), (12, 3), (16, 0)), ((13, 0), (13, 3), (17, 0)), ((13, 0), (13, 4), (16, 0)), ((13, 0), (13, 6), (15, 0)), ((14, 0), (14, 4), (11, 0)), ((14, 0), (14, 6), (12, 0)), ((15, 0), (15, 3), (11, 0)), ((15, 0), (15, 4), (12, 0))], (12, 9): [((12, 5), (12, 16), (14, 5)), ((12, 6), (12, 17), (14, 6)), ((13, 5), (13, 16), (11, 5)), ((13, 6), (13, 17), (11, 6)), ((13, 9), (13, 11), (2, 9)), ((14, 9), (14, 11), (3, 9)), ((15, 9), (15, 11), (4, 9)), ((15, 10), (15, 8), (4, 10)), ((16, 9), (16, 11), (5, 9)), ((16, 10), (16, 8), (5, 10)), ((17, 9), (17, 11), (6, 9)), ((17, 10), (17, 8), (6, 10))], (14, 16): [((13, 17), (13, 13), (16, 17)), ((13, 17), (13, 14), (17, 17)), ((14, 17), (14, 13), (17, 17)), ((15, 17), (15, 13), (12, 17)), ((15, 17), (15, 14), (11, 17)), ((15, 17), (15, 15), (9, 17)), ((16, 17), (16, 14), (12, 17)), ((16, 17), (16, 15), (10, 17)), ((17, 17), (17, 15), (11, 17))], (14, 4): [((14, 4), (14, 6), (17, 4)), ((14, 4), (14, 7), (16, 4)), ((14, 5), (14, 2), (16, 5)), ((14, 5), (14, 3), (17, 5)), ((15, 4), (15, 6), (12, 4)), ((15, 4), (15, 7), (13, 4)), ((15, 5), (15, 2), (13, 5)), ((15, 5), (15, 3), (12, 5))], (14, 11): [((14, 9), (14, 16), (16, 9)), ((14, 12), (14, 5), (16, 12)), ((14, 13), (14, 6), (16, 13)), ((15, 9), (15, 16), (13, 9)), ((15, 11), (15, 13), (8, 11)), ((15, 12), (15, 5), (13, 12)), ((15, 12), (15, 10), (8, 12)), ((15, 13), (15, 6), (13, 13)), ((15, 14), (15, 7), (13, 14)), ((16, 11), (16, 13), (9, 11)), ((16, 12), (16, 10), (9, 12)), ((17, 11), (17, 13), (10, 11)), ((17, 12), (17, 10), (10, 12))], (15, 13): [((15, 12), (15, 16), (17, 12)), ((15, 13), (15, 17), (17, 13)), ((15, 14), (15, 10), (17, 14)), ((15, 15), (15, 11), (17, 15)), ((16, 12), (16, 16), (14, 12)), ((16, 13), (16, 15), (12, 13)), ((16, 13), (16, 17), (14, 13)), ((16, 14), (16, 10), (14, 14)), ((16, 14), (16, 12), (12, 14)), ((16, 15), (16, 11), (14, 15)), ((17, 13), (17, 15), (13, 13)), ((17, 14), (17, 12), (13, 14))], (15, 2): [((16, 1), (16, 4), (8, 1)), ((17, 3), (17, 0), (9, 3))], (16, 3): [((17, 3), (17, 5), (15, 3)), ((17, 4), (17, 2), (15, 4))], (16, 7): [((17, 5), (17, 11), (11, 5)), ((17, 5), (17, 14), (13, 5)), ((17, 5), (17, 17), (14, 5)), ((17, 6), (17, 9), (5, 6)), ((17, 6), (17, 10), (8, 6)), ((17, 6), (17, 12), (11, 6)), ((17, 6), (17, 15), (13, 6)), ((17, 7), (17, 10), (5, 7)), ((17, 7), (17, 13), (11, 7)), ((17, 8), (17, 5), (5, 8))]}
